{% extends 'base.html.twig' %}

{% block title %}SORTIR.COM{% endblock %}
{% block body %}

<div class="container">
</div>

<div class="container mt-5 row gap-3 containerMap">
    <div class="col-sm-6 col-12 cardDetailMap map-responsive">
        <input type="hidden" id="latitude" value="{{events.place.latitude}}"></input>
        <input type="hidden" id="longitude" value="{{events.place.longitude}}"></input>
            <div id="map" style="height: 100vh";>
    </div>

    </div>
        <div class="col-sm-6 col-12 cardDetailMap">
        <h2>{{events.nom}} - {{events.campus}}</h2>
        <h5>{{events.place.nom}} - {{events.place.rue}}</h5>
        <br>
        <h5>{{events.infosSortie | raw}}</h5>
        <br>
        <span>Date début : {{events.dateHeureDebut | date('d M Y') | format_datetime('full', 'none', locale='fr') }}</span>
        <br>
        <span>Date Limite Inscription : {{events.dateLimiteInscription | date('d M Y') | format_datetime('full', 'none', locale='fr') }}</span>
    </div>
</div>

<script>
let lat = document.getElementById('latitude').value
let long = document.getElementById('longitude').value

console.log(lat);
console.log(long);

let map = L.map('map').setView([lat, long], 12);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '© OpenStreetMap'
}).addTo(map);
let circle = L.circle([lat, long], {
    color: 'red',
    fillColor: '#f03',
    fillOpacity: 0.5,
    radius: 500
}).addTo(map);
</script>

{% endblock %}
